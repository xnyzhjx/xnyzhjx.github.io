<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[“xx故障]]></title>
    <url>%2F2018%2F11%2F26%2F%E2%80%9Cxx%E6%95%85%E9%9A%9C%2F</url>
    <content type="text"><![CDATA[目标实现图片以懒加载形式显示。 准备工作 添加移动端 meta 标签 导入图片 导入 transform.js、drag.js CSS：清除默认样式，禁止系统滚动条 JS：禁止默认行为 window.onload = function(){} 此步不可缺失，除了禁止默认行为以外的JS代码，全部写在这里面。 rem 适配（最好用自调函数） 页面结构 头部（header）：相册标题 内容区包裹器（wrap）：大小为屏幕除header以外的全部区域 内容区（content）：大小由内容撑开 图片列表（list）：大小由图片撑开，因图片浮动，所以需要解决高度塌陷 12345678&lt;div id="header"&gt;三国女将&lt;/div&gt;&lt;div id="wrap"&gt; &lt;div id="content"&gt; &lt;ul id="list"&gt;&lt;/ul&gt; &lt;div id="footer"&gt;下滑加载更多&lt;/div&gt; &lt;/div&gt; &lt;div id="footer"&gt;&lt;/div&gt;&lt;/div&gt; wrap 宽高设置想要设置 wrap 的宽高为屏幕除 header 外的全部区域，height 不能直接设置，可以使用绝对定位，同时设置 top 和 bottom。 12345678#wrap&#123; position: absolute; top: 2rem; bottom: 0; left: 0; right: 0; width: 100%;&#125; 设置 li 和 img 的样式略 使用JS生成 li 和加载图片 定义存储图片地址的数组 imgArr，循环为数组添加图片地址。 调用 createLi 函数，初始化 li 和图片 创建自动生成 li 的函数 createLi ，每次循环生成两屏（12个）li，添加到 list 中。 使用 start 和 end 标记每次循环的初始值和结束值，这样循环时的 i 的值即可对应 imgArr 的索引 每一个 li 对象添加 src 属性，存储该 li 对应 imgArr 中的图片地址 每一个 li 对象添加 isLoad 属性，判断该 li 是否已加载图片 循环生成 li 结束后，调用懒加载图片的函数 lazyLoad ，为可视区域的 li 加载图片 创建懒加载图片的函数 lazyLoad，循环所有 li，判断 li 位置是否在可见区域（使用 getBoundingClientRect()函数），如果在可见区域，判断该 li 是否已加载图片（isLoad），如果没有，则调用加载图片的函数 createImage 为该 li 加载图片 创建加载图片的函数 createImage ，形参为需要加载图片的 li 使用 new Image() 构造函数生成图片对象，并添加到 li 中 调用 drag() 函数，竖向滑屏 竖向滑屏时，图片盖住了 header，为 wrap 设置 overflow: hidden; 解决。 创建 callback 对象，添加 move 方法，传入 drag() 函数 move 时，需要调用 lazyLoad() 方法，监测可视区域 li 的变化，即时为位于可视区域的 li 加载图片 拖动时发现，拖动到底端时，自动弹回后不能显示完全，是因为 drag() 函数底部边界判断错误，原底部边界值是 屏幕高度 - content高度，但是此项目结构中，content的包裹器是wrap，而 wrap的高度不等于屏幕高度，所以底部边界应该改为 wrap的高度 - content高度 图片加载前显示 loading 图为 li 设置背景为 loading 图，图片透明度设置为 0，当加载图片时，再将透明度设置为 1。 为了显示出由 loading 图到图片显示的过渡效果，在加载图片时，为图片添加过渡。 由于图片透明度变化为 1 的过程，快于为图片添加过渡属性，所以需要在图片的过渡属性加载完成后，再设置透明度。使用 img.onload 检测图片加载完成。 添加 footerfooter 部分提示 下滑加载更多 或 已加载全部 footer 应该在图片列表的后面，并跟随图片移动，所以应该在content里面，ul 的后面 但是因为content下拉到底部时，footer部分在回弹后不应该显示，所以content的高度应该不包含footer的高度，footer应该飘起来，且位置在content之后。 设置 footer 缩放 footer 初始缩放 scale 是 0，不显示。 定义变量 isBottom ，判断当前 content 是否在底部。 当 touchStart 时，判断当前 content 位置是否是底部，如果是，将 isBottom 设置为 true。 move 时，如果是底部（isBottom），显示 footer，根据上拉高度一点点增加 scale。 当 footer 部分全部显示时，scale 为 1。 footer全部显示后，touchEnd 时，继续创建 li 为 callback 添加 over 方法 drag() 函数中，touchEnd 时，调用 over 方法。 手指离开时，判断 footer 区域是否全部显示，如果全部显示了，则调用 createLi() 方法，创建新的 li。 创建完新的 li 后，因为回弹效果，content 又弹回原来的底部位置，新的 li 不显示，此时应清除回弹的定时器。 定时器的变量在 drag() 函数中定义，无法使用，可以把定时器的变量设置为 wrap 对象的属性，则在 callback 的 over 方法中可以通过 wrap 对象清除定时器。 如果 imgArr 的长度为 20，当 li 的个数大于20时，会显示 loading 图，需要解决创建 li 时，应该判断开始 li 的个数 start ，如果大于或等于 imgArr 的长度，则不应该继续创建 li。如果 start 小于 imgArr 的长度，但是 end 大于或等于 imgArr 的长度， end 应该等于 imgArr 的长度，不能创建多余的 li。 imgArr 中的所有图片加载完成，显示加载完成 当 start 大于或等于 imgArr 的长度时，已加载完全部 li，需要将 footer 的内容改为 “已加载全部”。 “已加载全部” 显示 2s 后，content 弹回底部，footer缩放改为 0 ，不显示 footer。 滚动条（scrollBar）滚动条在 wrap 内，在 content 后面。漂浮在 wrap 最右端。 滚动条初始 opacity 为 0，不显示，当手指点击时和移动时显示，移动结束后消失。 在callback的 start 和 move 中，opacity 为 1. 在 end 中，即 content 停止移动时，opacity 为 0。 滚动条的高度不是固定的，应该根据 content 的高度改变，content 的高度在创建新的 li 后会改变，所有在 createLi() 函数的最后，应该重新为 scrollBar 设置高度。 content 移动时，滚动条移动。 当所有图片全部加载完成，显示“已加载全部” 2s 后，content 的位置移回底部，此时滚动条的高度不随 content 移动。 content 移回底部时，也将 scrollBar 的位置相应改变 scrollBar 位置改变的过渡时间与 content 此时的过渡时间相同 在 start 时，将 scrollBar 的过渡时间修改为 0.]]></content>
      <categories>
        <category>1.5MW全系统分类</category>
        <category>变桨及叶片</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[风机维修]]></title>
    <url>%2F2018%2F11%2F24%2F%E6%95%85%E9%9A%9C%E5%A4%84%E7%90%86%E6%80%9D%E8%B7%AF%2F</url>
    <content type="text"><![CDATA[故障处理代码：60010 故障标识：error_yawing_speed 停机类型：正常停机 故障原因：在向左或向右偏航30s后，偏航速度≥0.2度/s时，触发故障 引发偏航速度故障原因： 1、软启动器损坏； 2、偏航电机损坏； 3、偏航减速箱损坏； 4、偏航电机电磁刹车损坏； 5、偏航电机 400VAC 主回路及电磁刹车供电回路故障； 6、偏航半卸压力过大或偏航卡钳故障导致偏航卡钳跟刹车盘之间的阻尼过大； 7、偏航回路空开 211Q1、接触器 336K4、334K1、334K2 接触器、 热继电器损坏故障； 8、机舱柜偏航卡件（KL2134）损坏、接线松动造成的控制回路故障； 9、偏航自动润滑系统故障 处理方法： 1、测量偏航电子刹车的供电回路（空开 211F7、接触器 334K5、端子排 X400-16、X400-18、X400-20、X400-22）及 4 个电子刹车电阻是否正常，测量偏航电子刹车控制回路卡件 403DO8 的 1 口→接触器 334K5 的 A1 口）是否导通，并测试偏航电子刹车能否正常打开。 2、测量 Y4 偏航半卸电磁阀供电回路（接触器 334K4、端子排 X3-3、X3-4）及 Y4 电磁阀绕组是否正常，测量 Y4偏航半卸电磁阀控制回路（卡件 403DO7 的 8 口→334K4 的 A1 口）是否导通，测试偏航半卸压力是否正常。 3、检查偏航软起 211Q0 供电正常，+端子口和—端子口之间有 24V 供电。软启动器待机状态灯正常：数码管显示数字 2。 4、检查偏航电机供电回路（空开 211Q1、接触器 334K1、接触器 334K2、偏航软起 211Q0、偏航热继 213F1、213F3、213F5、213F8、端子排 X400-15、X400-17、X400-19、X400-21）及 4个偏航电机绕组阻值是否正常； 5、测量左偏航控制回路：卡件 403DO7 的 1 口→接触器 336K4 常开触点（43NO、44NO）→接触器 334K2 常闭触点（21NC、22NC）→接触器 334K1 的 A1 端子口是否为通路。 6、测量右偏航控制回路：卡件 403DO7 的 5 口→接触器 336K4 常开触点（53NO、54NO）→接触器 334K1 常闭触点（21NC、22NC→接触器 334K2 的 A1 端子口是否为通路。 7、测量偏航软起的“EN 使能信号”供电回路：卡件 404D03 的 8 口→空开 211Q1 常开触点（1.53、1.54）→偏航软起 211Q0 的 P 端子口（伊顿 S752L50N3S 软起的使能信号）是否为通路。 8、测量偏航软起的“softstart 启动信号”供电回路：卡件 403DO6 的 8 口到偏航软起 211Q0 的 F 端子口（伊顿S752L50N3S 软起的启动信号）是否为通路。 使用工具：小一字、大十字、大一字、6个的六角、]]></content>
  </entry>
  <entry>
    <title><![CDATA[风机维修]]></title>
    <url>%2F2018%2F11%2F24%2F%E9%A3%8E%E6%9C%BA%E7%BB%B4%E4%BF%AE%2F</url>
    <content type="text"><![CDATA[1 故障处理代码： 60010 2 故障标识： error_yawing_speed 3 停机类型： 正常停机 4 故障名称： 偏航速度故障 5 故障原因： 在向左或向右偏航30s后，偏航速度≥0.2度/s时，触发故障&nbsp;&nbsp; 6 引发偏航速度故障原因： 1、软启动器损坏； 2、偏航电机损坏； 3、偏航减速箱损坏； 4、偏航电机电磁刹车损坏； 5、偏航电机 400VAC 主回路及电磁刹车供电回路故障； 6、偏航半卸压力过大或偏航卡钳故障导致偏航卡钳跟刹车盘之间的阻尼过大； 7、偏航回路空开 211Q1、接触器 336K4、334K1、334K2 接触器、 热继电器损坏故障； 8、机舱柜偏航卡件（KL2134）损坏、接线松动造成的控制回路故障； 9、偏航自动润滑系统故障 7 处理方法： 1、测量偏航电子刹车的供电回路（空开 211F7、接触器 334K5、端子排 X400-16、X400-18、X400-20、X400-22）及 4 个电子刹车电阻是否正常，测量偏航电子刹车控制回路卡件 403DO8 的 1 口→接触器 334K5 的 A1 口）是否导通，并测试偏航电子刹车能否正常打开。 2、测量 Y4 偏航半卸电磁阀供电回路（接触器 334K4、端子排 X3-3、X3-4）及 Y4 电磁阀绕组是否正常，测量 Y4偏航半卸电磁阀控制回路（卡件 403DO7 的 8 口→334K4 的 A1 口）是否导通，测试偏航半卸压力是否正常。 3、检查偏航软起 211Q0 供电正常，+端子口和—端子口之间有 24V 供电。软启动器待机状态灯正常：数码管显示数字 2。 4、检查偏航电机供电回路（空开 211Q1、接触器 334K1、接触器 334K2、偏航软起 211Q0、偏航热继 213F1、213F3、213F5、213F8、端子排 X400-15、X400-17、X400-19、X400-21）及 4个偏航电机绕组阻值是否正常； 5、测量左偏航控制回路：卡件 403DO7 的 1 口→接触器 336K4 常开触点（43NO、44NO）→接触器 334K2 常闭触点（21NC、22NC）→接触器 334K1 的 A1 端子口是否为通路。 6、测量右偏航控制回路：卡件 403DO7 的 5 口→接触器 336K4 常开触点（53NO、54NO）→接触器 334K1 常闭触点（21NC、22NC→接触器 334K2 的 A1 端子口是否为通路。 7、测量偏航软起的“EN 使能信号”供电回路：卡件 404D03 的 8 口→空开 211Q1 常开触点（1.53、1.54）→偏航软起 211Q0 的 P 端子口（伊顿 S752L50N3S 软起的使能信号）是否为通路。 8、测量偏航软起的“softstart 启动信号”供电回路：卡件 403DO6 的 8 口到偏航软起 211Q0 的 F 端子口（伊顿S752L50N3S 软起的启动信号）是否为通路。 8 使用工具： 小一字、大十字、大一字、6个的六角、 &lt;![if supportMisalignedColumns]&gt; &lt;![endif]&gt;]]></content>
  </entry>
</search>
